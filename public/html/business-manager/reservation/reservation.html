<!-- Reservation Module -->
<section id="reservation-wrapper" class="hpw ow rw" ng-controller="ReservationCtrl">

    <!-- Header menu goes here -->
    <header-section></header-section>


    <!-- The Panel -->
    <div class="width-75 container p-top-30">
        <div class="panel panel-default shadow-border">
            <div class="panel-heading text-center menu-text">
                <h3 class="text-center font-roboto"><i class="fa fa-check-square-o"></i> Reservation</h3>
            </div>
            <div class="panel-body">

                <!-- Side menu goes here -->
                <div class="col-lg-3 col-md-4 col-sm-12 col-xs-12 menu-style no-padding">
                    <!-- Calender goes here -->
                    <date-time-picker recipient="dateOfBirth" settings='{
                                                                    "format" : "d-M-Y",
                                                                    "timepicker" : false,
                                                                    "mask" : false,
                                                                    "hours12" : false,
                                                                    "inline" : true,
                                                                    "maxDate" : "2019/01/01"
                                                                    }'></date-time-picker>
                    <!-- Notes section goes here[Shown only to resource] -->
                    <div class="notes-block">
                        <div class="notes-heading">
                            <i class="fa fa-list"></i> Appointments
                        </div>
                        <!-- Daily Appointments goes here -->
                        <div class="notes-content border-bottom-gray p-top-7" ng-repeat="rtime in reservedTime track by $index">
                            <i>{{reservedTime[$index][2]}}</i>
                            <small>for <b> {{reservedTime[$index][4]}}</b> ({{convertTime(reservedTime[$index][0])}} - {{convertTime(reservedTime[$index][1])}})</small>
                            <br>
                            <div class="text-right p-bottom-3">
                                <button title="done" class="btn btn-xs btn-info"><i class="fa fa-check-square-o"></i> Done</button>
                                <button title="cancel" class="btn btn-xs btn-danger p-bottom-3"><i class="fa fa-times-circle"></i> Cancel</button>
                            </div>
                        </div>
                        <!-- Color Index goes here -->
                        <div class="color-coding p-top-10">
                            <div class="color-code-heading">
                                <i class="fa fa-tags"></i> Color Codes
                            </div>
                            <div class="color-index" ng-repeat="color in colorIndex track by $index">
                                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3" ng-class="['color-index-'+$index,$index == 3?'border-light-gray':'']">&nbsp;</div>
                                <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9 " ng-class="('color-index-label-'+$index)">&nbsp;</div>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- Main content goes here -->
                <div class="col-lg-9 col-md-8 col-sm-12 col-xs-12 ">

                    <!-- RESERVATION MODULE goes here -->
                    <div class="reservation-module rm">
                        <div class="col-lg-12">
                            <!-- main container of day - calender -->

                            <!-- Individual container: repeated 4 times (6 hours x 4[Early,Morning,Noon,Night]) -->
                            <div ng-init="col = 0" class="col-lg-3 col-md-6 col-sm-6 col-xs-12 p-1"
                                 ng-repeat="time in timeArr track by $index">

                                <div class="building-col-title" ng-init="cols = $index">
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-9 blk-title text-center cyan">
                                        {{time}}
                                    </div>
                                </div>
                                <!-- Building block: repeated for 72 times (6Hours x 60 = 360mins/5(individual block mins) = 72 Blocks) -->
                                <div class="building-block" >
                                    <!-- Time Label goes here -->
                                    <div class="col-lg-4 col-md-3 col-sm-3 col-xs-3 p-left-5 no-padding">
                                        <div ng-repeat="block in blockArr track by $index" class="title-section blk blk-time" ng-class="[blockColor[$index],'time-block-'+getBlockId($index,cols),heightClass]">
                                            <b>{{getTime($index,cols)}}</b>
                                        </div>
                                    </div>
                                    <!-- Building block of whole day -->
                                    <div class="col-lg-8 col-md-9 col-sm-9 col-xs-9 no-padding pointer" >
                                        <!-- reservation owner's name goes here -->
                                        <div title="{{getTime($index,cols,true)}}" ng-repeat="block in blockArr track by $index"
                                             class="notes-section blk blk-content wrap-text text-center" ng-init="blockId = getBlockId($index,cols)" ng-class="[blockColor[$index],'block-'+blockId,heightClass]"
                                             ng-click="reservationClickEventHandler(blockId)">

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- coloring for availability : For executing coloring the table post-DOM rendering -->
                            <div>{{(colorWorkingHours())(alreadyReserveSlot())(appendColorIndex())}}</div>
                            <!-- main container of day - calender end here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Reservation module ends here -->
</section>