<style type="text/css">
    .btn-file {
        position: relative;
        overflow: hidden;
    }
    .btn-file input[type=file] {
        position: absolute;
        top: 0;
        right: 0;
        min-width: 100%;
        min-height: 100%;
        font-size: 100px;
        text-align: right;
        filter: alpha(opacity=0);
        opacity: 0;
        outline: none;
        background: white;
        cursor: inherit;
        display: block;
    }
</style>
<section id="attach-resume-wrapper" class="arw">
<div  ng-controller="CVAttachController as CVAttachCtrl" style="min-height:290px">
    <!--<form name="cvForm" ng-submit="cvForm.$valid && CVAttachCtrl.saveCVDocInfo()" novalidate>-->
        <div class="form_style">
           <div ng-show="true">
                <div class="panel panel-success">
                    <div class="panel-heading">
                        CV Attachment
                    </div>
                    <div class="panel-body profile-panel-body">
                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 profile-details" ng-hide="profileEditMode">
                                <div class="row">
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 cvBottomSpace label">
                                        <h5 class="text-primary text-left">Function</h5>
                                    </div>
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 cvBottomSpace hpw" id="functionDiv">
                                         <button class="btn btn-default btn-sm dropdown-toggle1 opt opt-2 drpFunction emptyBox">
                                            <span class="normal-view-text custom-select-dropdown"> -- Select ({{selectedFunctions.length}}) -- </span>
                                            <span class="mobile-view-text"></span>
                                            <span class="caret selectImg"></span></button>
                                        <div class="opt opt-2">
                                            <div class="filter-dropdown width-105 search-option-content setTableFixHeight" style="display: none;">
                                                <div class="checkbox-dropdown" ng-repeat="function in CVAttachCtrl.Functions track by $index" ng-click="selectFunction(function.FunctionID)">
                                                   <i class="fa " ng-class="selectedFunctions.indexOf(function.FunctionID)!=-1 ?'fa-check-square':'fa-square-o'"></i> {{function.FunctionName}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 cvBottomSpace label">
                                        <h5 class="text-primary text-left">Key Skills</h5>
                                    </div>
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 cvBottomSpace">
                                        <input type="text" ng-class="cvForm.keySkills.$touched && !CVAttachCtrl._CVInfo.KeySkills.length ? 'mandatoryTextBoxCV' : ''" name="keySkills" class="form-control emptyBox" ng-model="CVAttachCtrl._CVInfo.KeySkills" placeholder="Java, Sales, Marketing" required/>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 cvBottomSpaceMiddle label">
                                        <h5 class="text-primary text-left">CV Upload</h5>
                                    </div>
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 cvBottomSpaceMiddle">
                                        <span class="btn btn-primary btn-file">

                                            <!--Choose File {{showSelectedText ? '(Selected)' : '(Empty)'}}-->
                                               <span ng-show="showLink">
                                                   Choose File (Selected)
                                               </span>
                                               <span ng-hide="showLink">
                                                   Choose File (Empty)
                                               </span>
                                               <input type="file" onchange="angular.element(this).scope().uploadFile(this.files)">
                                         </span>

                                        <span ng-controller="DocumentController"
                                              style="margin-top:8px;"
                                              ng-show="showLink">
                                                <a class="blue" target="_blank" href="/ewtGetDocument?TokenNo={{Token}}&&RefType=7">
                                                    View
                                                </a>
                                        </span>
                                    </div>

                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-6 cvBottomSpaceMiddle label">
                                        <h5 class="text-primary text-left">
                                            <input type="checkbox" ng-click="CVAttachCtrl.securePinCliked()" ng-model="CVAttachCtrl.EnablePin"/><span> Enable PIN</span>
                                        </h5>
                                    </div>
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6 cvBottomSpaceMiddle">
                                        <input ng-show="CVAttachCtrl.EnablePin" maxlength="3" onkeypress="return isNumberKey(event);" type="text" style="width: 22%;" class="form-control" ng-model="CVAttachCtrl._CVInfo.Pin" placeholder="Pin"/>
                                    </div>
                            </div>
                                <div class="row">
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-6 label">
                                        <h5 class="text-primary text-left">CV Status</h5>
                                    </div>
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-8 ">

                                        <input type="radio" name="CVStatus" ng-model="CVAttachCtrl._CVInfo.Status" id="Visible" class="check-box pull-left" value="1" style="margin-top: 0px;"/>
                                        <span> &nbsp; Active(Access is Active)</span>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-8 " style="padding-left: 0px;">
                                        <input type="radio" name="CVStatus" ng-model="CVAttachCtrl._CVInfo.Status" id="NotVisible" class="check-box pull-left" value="2" style="margin-top: 0px;"/>
                                        <span> &nbsp; Inactive(Access Denied/Not Looking for Change)</span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-6 cvBottomSpace label">
                                        <h5 class="text-primary text-left">Present Salary</h5>
                                    </div>
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-8 cvBottomSpace">
                                        <input type="text"
                                               decimals-only maxlength="17"
                                               name="salary"
                                               class="form-control text-right"
                                               ng-model="CVAttachCtrl._CVInfo.salary"
                                               placeholder="Present Salary"/>
                                    </div>

                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-6 cvBottomSpace label">
                                        <h5 class="text-primary text-left">Notice Period</h5>
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-8 cvBottomSpace">
                                       <div class="input-group">
                                            <input type="text" class="form-control text-right" numbers-only maxlength="3" ng-model="CVAttachCtrl._CVInfo.notice_period" placeholder="Notice Period" aria-describedby="sizing-addon1"/>
                                            <span class="input-group-addon" id="sizing-addon1">Days</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-6 cvBottomSpace label">
                                        <h5 class="text-primary text-left">Experience</h5>
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-8 cvBottomSpace">
                                        <div class="input-group">
                                            <input type="text" class="form-control text-right" numbers-only maxlength="3" ng-model="CVAttachCtrl._CVInfo.experience" placeholder="Experience" aria-describedby="sizing-addon1"/>
                                            <span class="input-group-addon" id="sizing-addon2">Years</span>
                                        </div>
                                    </div>
                                    <div class="col-lg-1 col-md-1 col-sm-1 col-xs-8">
                                    </div>

                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-6 cvBottomSpace label">
                                        <h5 class="text-primary text-left">Current Employer</h5>
                                    </div>
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-8 cvBottomSpace">
                                        <input type="text" ng-model="CVAttachCtrl._CVInfo.current_employeer" placeholder="Current Employer" class="form-control"/>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-6 cvBottomSpace label">
                                        <h5 class="text-primary text-left">Current Job Title</h5>
                                    </div>
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-8 cvBottomSpace">
                                        <input type="text" placeholder="Current Job Title" ng-model = "CVAttachCtrl._CVInfo.current_job_title" class="form-control"/>
                                    </div>
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-6 cvBottomSpace label">
                                        <h5 class="text-primary text-left">Job Type</h5>
                                    </div>
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-8 cvBottomSpace">
                                        <select class="form-control ng-pristine ng-valid ng-touched" ng-model = "CVAttachCtrl._CVInfo.job_type">
                                            <option value="0">Full Time</option>
                                            <option value="1">Part Time</option>
                                            <option value="2">Work from Home</option>
                                            <option value="3">Internship</option>
                                            <option value="4">Apprenticeship</option>
                                            <option value="5">Job Oriented Training</option>
                                            <option value="6">Consultant</option>
                                            <option value="7">Freelancer</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 cvBottomSpace label">
                                        <h5 class="text-primary text-left">Preferred Location</h5>
                                    </div>
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 cvBottomSpace">
                                        <div class="input-group">
                                            <input type="text" id="google-map-search-box" placeholder="Type City" ng-model = "locationName" class="form-control"/>
                                            <span class="input-group-addon noPaddingNoBorder">
                                                <button type="button" class="btn btn-primary" ng-click="addJobLocation(true)"><i class="fa fa-plus"></i> Add</button>
                                            </span>
                                        </div>
                                    </div>
                                    <!--<div class="row cvBottomSpace" ng-show="locationArrayString.length">-->
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 location-box-border cvBottomSpace" ng-show="locationArrayString.length" style="width: 48%;">
                                            <div style="padding-right: 15px;">
                                                 <span class="fontsize21" ng-repeat="location in locationArrayString track by $index">
                                                    <label  class="label label-default label-form" style="font-weight:normal;">{{location}} <i ng-click="removeLocation($index)" class="fa fa-times text-warning"></i></label>&nbsp;
                                                </span>
                                            </div>
                                        </div>
                                    <!--</div>-->
                                </div>

                                <div class="row">
                                    <!--<div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 cvBottomSpace label">
                                        <h5 class="text-primary text-left">Job Categories</h5>
                                    </div>
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 cvBottomSpace hpw cvcategory" id="footleft">
                                        <button class="btn btn-default btn-sm dropdown-toggleCategory opt opt-2 drpFunction">
                                            <span class="normal-view-text custom-select-dropdown"> -- Select ({{selectedCategories.length}}) -- </span>
                                            <span class="mobile-view-text"></span>
                                            <span class="caret selectImg"></span>
                                        </button>
                                        <div class="opt opt-2">
                                            <div class="filter-dropdownCategory width-105 search-option-content setTableFixHeight" style="display: none;">
                                                <div class="checkbox-dropdown" ng-repeat="category in jobCategories track by $index" ng-click="selectJobCategories(category.CategoryID)">
                                                    <i class="fa " ng-class="selectedCategories.indexOf(category.CategoryID)!=-1 ?'fa-check-square':'fa-square-o'"></i> {{category.CategoryTitle}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>-->

                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-6 cvBottomSpace label">
                                        <h5 class="text-primary text-left">Expected Salary</h5>
                                    </div>
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-8 cvBottomSpace">
                                        <input type="text" decimals-only maxlength="17" name="exp_salary" class="form-control text-right emptyBox" ng-model="CVAttachCtrl._CVInfo.exp_salary" placeholder="Expected Salary"/>
                                    </div>


                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 cvBottomSpace label">
                                        <h5 class="text-primary text-left">Institute</h5>
                                    </div>
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 cvBottomSpace hpw">
                                        <input type = "text"
                                               placeholder = "Full and Correct College Name"
                                               ng-model = "instituteTitle"
                                               ng-keypress = "instituteKeyPress($event.keyCode)"
                                               ng-click = "instituteTextBoxClicked()"
                                               class = "form-control instittuteClass"/>

                                        <div ng-show="showInstituteDropDown" class="filter-dropdownInstitute width-105 search-option-content setTableFixHeight">
                                           <div class="checkbox-dropdown" ng-repeat="institute in instituteList | filter:instituteTitle" ng-click="selectInstitute(institute.TID,institute.InstituteTitle)">
                                                {{institute.InstituteTitle}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 cvBottomSpace label">
                                        <h5 class="text-primary text-left">Last Education</h5>
                                    </div>
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 cvBottomSpace">
                                        <select class="form-control" ng-model="CVAttachCtrl._CVInfo.education_id">
                                            <option value = "0"> -- Select -- </option>
                                            <option ng-repeat="education in educationList track by $index" value="{{education.TID}}">{{education.EducationTitle}}</option>
                                        </select>
                                    </div>
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 cvBottomSpace setLeftRightPaddingZero">
                                        <input type="text"
                                               class="form-control text-right"
                                               numbers-only maxlength="4"
                                               ng-model="CVAttachCtrl._CVInfo.year_of_passing"
                                               placeholder="Passed Year"
                                               aria-describedby="sizing-addon1"/>
                                    </div>
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 cvBottomSpace hpw">
                                        <select class="form-control" ng-model="CVAttachCtrl._CVInfo.specialization_id">
                                            <option value = "0"> -- Select Specialization -- </option>
                                            <option ng-repeat="specialization in specializationList track by $index" value="{{specialization.TID}}">{{specialization.Title}}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 cvBottomSpace label">
                                        <h5 class="text-primary text-left">Aggregate Score</h5>
                                    </div>
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 cvBottomSpace">
                                        <input type="text" class="form-control text-right" numbers-only maxlength="3" ng-model="CVAttachCtrl._CVInfo.aggregate_score" placeholder="87" aria-describedby="sizing-addon1"/>
                                    </div>
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 cvBottomSpace setLeftRightPaddingZero">
                                        <label class="imgTopMargin">%</label>
                                    </div>

                                </div>
                            </div>
                            <div class="row setRowLeftRightMarginZero" ng-show="true">
                                <div class="row setRowLeftRightMarginZero">
                                    <span class="skillText">Skill Map (Choose & Rate your Skills to get a right Job) </span>
                                </div>
                                <div class="row">

                                    <table class="table table-striped skillMatrixTable" st-table="rowCollection">
                                        <thead>
                                        <tr style="background:#ECECEC; color:#000000;">
                                            <th class="panelPd5px skillKeyWord newSkillField"><span class="padding-left4">Skill</span></th>
                                            <th class="panelPd5px skillExperties msg_pos">Expertise Level</th>
                                            <th class="panelPd5px from_size msg_pos">Experience(Yrs.)</th>
                                            <th class="panelPd5px from_size msg_pos">Active Skills</th>
                                            <th class="panelPd5px skillAction msg_pos">Action</th>
                                        </tr>
                                        </thead>
                                        <tbody class="">
                                             <tr>
                                                <td colspan="5">
                                                    <div class="setTableFixHeight">
                                                        <table style="width: 100%;">

                                                            <tr ng-repeat="skill in skillMatrix">
                                                                <td class="panelPd5px" ng-hide="(!editMode[$index]) && ($index == 0)">
                                                                    <span ng-hide="editMode[$index]">{{skillMatrix[$index].skillname}}</span>
                                                                    <div class="ui-widget newCvSkillField" ng-show="editMode[$index]">
                                                                        <input class="form-control" type="text" id="tags{{$index}}" ng-keyup="complete($index)"
                                                                               ng-model="editSkill.skillname" placeholder="Type skill here"/>
                                                                    </div>
                                                                </td>
                                                                <td class="panelPd5px msg_pos" ng-hide="(!editMode[$index]) && ($index == 0)">
                                                                    <span ng-hide="editMode[$index]">{{expertiseLevels[skillMatrix[$index].expertiseLevel]}}</span>
                                                                    <select class="form-control" name="expertiesLevel" ng-model="editSkill.expertiseLevel"
                                                                            ng-show="editMode[$index]">
                                                                        <option value="0" default selected> Beginner </option>
                                                                        <option value="1"> Independent </option>
                                                                        <option value="2"> Expert </option>
                                                                        <option value="3"> Master </option>
                                                                    </select>
                                                                </td>
                                                                <td class="panelPd5px msg_pos" ng-hide="(!editMode[$index]) && ($index == 0)">
                                                                    <span ng-hide="editMode[$index]">{{skillMatrix[$index].exp}}</span>
                                                                    <input type="text"
                                                                           ng-show="editMode[$index]"
                                                                           ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1000, 'blur': 0 } }"
                                                                           name="experienceYear" maxlength="4" ng-model="editSkill.exp" class="form-control newCvExpField" placeholder="Ex. 5.00"/>
                                                                </td>
                                                                <td class="panelPd5px msg_pos" ng-hide="(!editMode[$index]) && ($index == 0)">
                                                                    <input class="newCvActveSkills" type="checkbox" ng-hide="editMode[$index]" ng-disabled="1" ng-model="skillMatrix[$index].active_status"/>
                                                                    <input class="newCvActveSkills" ng-show="editMode[$index]" type="checkbox"  ng-checked="editSkill.active_status" ng-model="editSkill.active_status"/>
                                                                </td>
                                                                <td class="panelPd5px msg_pos" ng-hide="(!editMode[$index]) && ($index == 0)">
                                                                    <button class="btn btn-success btn-xs" ng-show="editMode[$index]" ng-click="saveSkillFn($index)">Save</button>
                                                                    <button class="btn btn-warning btn-xs" ng-hide="editMode[$index]" ng-click="editSkillFn($index)">Edit</button>
                                                                    <button class="btn btn-primary btn-xs panelTextSize" ng-disabled="$index == 0" ng-click="deleteSkilFromMartix($index,skillMatrix[$index].tid)">Delete</button>
                                                                </td>
                                                            </tr>

                                                        </table>
                                                    </div>
                                                 </td>
                                             </tr>

                                        </tbody>
                                    </table>
                                </div>
                                <div class="clearfix"></div>
                            </div>

                            <div class="row setRowLeftRightMarginZero">
                                <button class="btn btn-primary pull-left" value="Save" ng-click="CVAttachCtrl.saveCVDocInfo()">Save </button>
                                <input type="button" class="btn btn-primary pull-left" style="margin-left: 5px;" value="Close" ng-click="closeCVDocInfo()"/>
                            </div>
                        </div>
                    </div>
                    </div>
                </div>
           </div>
        </div>
    <!--</form>-->
</section>

